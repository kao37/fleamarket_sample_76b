.search-container
  .ransack
    = search_form_for @q ,url:items_searches_ransack_path do |f| 
      .ransack__order
        = f.select( :sorts, { '並び替え': 'id desc', '価格の安い順': 'price asc', '価格の高い順': 'price desc', '出品の古い順': 'updated_at asc', '出品の新しい順': 'updated_at desc' } , { selected: params[:q][:sorts] }, { onchange: 'this.form.submit()'} )
      .ransack__name
        = f.label :キーワードを追加する
        = f.search_field :name_cont
      .ransack__category
        = f.label :カテゴリーを選択する
        = f.select :category_id_eq,content_tag(:option,'選択してください', value: "") + options_from_collection_for_select(@parents, :id, :name, @q.category_id_eq)
      .ransack__brand
        = f.label :ブランド名から探す
        = f.select :brand_id_eq,content_tag(:option,'選択してください', value: "") + options_from_collection_for_select(Brand.all, :id, :name, @q.brand_id_eq)     
      .ransack__size
        = f.label :サイズを指定する 
        %label 
          = f.check_box :size_in, {multiple: true}, "XXS", nil
          = "XXS"
        %label 
          = f.check_box :size_in, {multiple: true}, "XS", nil
          = "XS"
        %label 
          = f.check_box :size_in, {multiple: true}, "S", nil
          = "S"
        %label 
          = f.check_box :size_in, {multiple: true}, "M", nil
          = "M"  
        %label 
          = f.check_box :size_in, {multiple: true}, "L", nil
          = "L"  
        %label 
          = f.check_box :size_in, {multiple: true}, "XL", nil
          = "XL"  
        %label 
          = f.check_box :size_in, {multiple: true}, "XXL", nil
          = "XXL"    
      .ransack__price
        = f.label :価格
        = f.number_field :price_gteq
        以上〜
        = f.number_field :price_lt 
        未満 
      .ransack__status
        = f.label :商品の状態
        %label 
          = f.check_box :status_in, {multiple: true}, "1", nil
          = "新品、未使用"    
        %label 
          = f.check_box :status_in, {multiple: true}, "2", nil
          = "未使用に近い"   
        %label 
          = f.check_box :status_in, {multiple: true}, "3", nil
          = "目立った傷や汚れなし"   
        %label 
          = f.check_box :status_in, {multiple: true}, "4", nil
          = "やや傷や汚れあり"   
        %label 
          = f.check_box :status_in, {multiple: true}, "5", nil
          = "傷や汚れあり"  
        %label 
          = f.check_box :status_in, {multiple: true}, "6", nil
          = "全体的に状態が悪い"         
      .ransack__cost
        = f.label :配送料の負担
        %label 
          = f.check_box :cost_in, {multiple: true}, "送料込み(出品者負担)", nil
          = "送料込み(出品者負担)" 
        %label 
          = f.check_box :cost_in, {multiple: true}, "着払い(購入者負担)", nil
          = "着払い(購入者負担)"   
          = f.submit   
  .main__content__product__lists
    - if @search[0].nil?    
      %p 該当する商品が見つかりません。検索条件を変えて、再度お試しください。  新着商品
    - else   
      - @search.each do |item|
        .list
          = link_to item_path(item.id),class:"list__content" do
            - if item.sold_day != nil
              .list__content-sold-mark
                %h3.list__content-sold-mark--text
                  SOLD
            %figure.main__content__product__lists__list--image
              = item.images.first(1).each do |image|
                =image_tag image.image.to_s, class:'img'
            .main__content__product__lists__list--body
              %h3.main__content__product__lists__list--body__name
                = item.name
              .main__content__product__lists__list--body__details
                %ul
                  %li
                    ="#{item.price.to_s(:delimited)}円"
                  %li
                    = icon('fa','star')
                %p (税込)
    
  